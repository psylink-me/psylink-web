{{ $intro := site.GetPage "blog/intro.md" }}
{{ $pages := (where $.Site.RegularPages "Section" "eq" "blog").Reverse }}
<h1>Table of contents</h1>
<ul>
<li><a href="#_intro">{{ $intro.Title }}</a>
{{ range $pages }}
<li><a href="#{{.Slug}}">{{ .Date.Format "2006-01-02" }}: {{ .Title }}</a></li>
{{ end }}
{{ with site.GetPage "_footer" }}
    <li><a href="#_footer">{{ .Title }}</a>
{{ end }}
</ul>
<article id="_intro">
<h1>{{ $intro.Title }}</h1>
{{ $intro.Content }}
</article>
{{ range $pages }}
<article id="{{ .Slug }}">
<span style="float: right;">❬<a href="{{ .RelPermalink }}">{{ .Date.Format "2006-01-02" }}</a>❭</span>
<h1>{{ .Title }}</h1>
{{ .Content }}
</article>
{{ end }}
